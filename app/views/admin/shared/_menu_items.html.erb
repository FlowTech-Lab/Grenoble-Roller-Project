<% 
  # Menu items modernes 2025 - Design épuré avec hiérarchie claire
%>

<!-- INITIATIONS (level >= 40 : INITIATION, MODERATOR, ADMIN, SUPERADMIN) -->
<% if can_view_initiations? %>
  <li class="admin-menu-item">
    <%= link_to admin_panel_initiations_path, 
        class: "admin-menu-link #{'active' if admin_panel_active?('initiations')}",
        title: "Initiations",
        aria: { label: "Voir les initiations", current: admin_panel_active?('initiations') ? 'page' : nil },
        data: { bs_dismiss: mobile ? "offcanvas" : nil }.compact do %>
      <i class="bi bi-people admin-menu-icon" aria-hidden="true"></i>
      <span class="admin-menu-label">Initiations</span>
    <% end %>
  </li>
<% end %>

<!-- COMMANDES (level >= 60 uniquement) -->
<% if can_access_admin_panel?(60) %>
  <li class="admin-menu-item">
    <%= link_to admin_panel_orders_path, 
        class: "admin-menu-link #{'active' if admin_panel_active?('orders')}",
        title: "Commandes",
        aria: { label: "Voir les commandes", current: admin_panel_active?('orders') ? 'page' : nil },
        data: { bs_dismiss: mobile ? "offcanvas" : nil }.compact do %>
      <i class="bi bi-box-seam admin-menu-icon" aria-hidden="true"></i>
      <span class="admin-menu-label">Commandes</span>
    <% end %>
  </li>
<% end %>

<!-- LOGS EMAILS (SUPERADMIN uniquement - level >= 70) -->
<% if can_access_admin_panel?(70) %>
  <li class="admin-menu-item">
    <%= link_to admin_panel_mail_logs_path, 
        class: "admin-menu-link #{'active' if admin_panel_active?('mail_logs')}",
        title: "Logs des emails",
        aria: { label: "Voir les logs des emails", current: admin_panel_active?('mail_logs') ? 'page' : nil },
        data: { bs_dismiss: mobile ? "offcanvas" : nil }.compact do %>
      <i class="bi bi-envelope-paper admin-menu-icon" aria-hidden="true"></i>
      <span class="admin-menu-label">Logs Mails</span>
    <% end %>
  </li>
<% end %>

<!-- SÉPARATEUR -->
<li class="admin-menu-divider" role="separator"></li>

<!-- ACTIVEADMIN (Lien vers l'ancien admin) -->
<li class="admin-menu-item">
  <%= link_to "/activeadmin", 
      class: "admin-menu-link admin-menu-link-external",
      title: "ActiveAdmin (Ancien panel)",
      target: "_blank",
      rel: "noopener noreferrer",
      data: { bs_dismiss: mobile ? "offcanvas" : nil }.compact do %>
    <i class="bi bi-gear admin-menu-icon" aria-hidden="true"></i>
    <span class="admin-menu-label">ActiveAdmin</span>
    <i class="bi bi-box-arrow-up-right admin-menu-external-icon" aria-hidden="true"></i>
  <% end %>
</li>
