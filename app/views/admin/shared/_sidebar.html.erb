<% 
  # Sidebar moderne 2025 - Design épuré et mobile-first
%>

<!-- SIDEBAR: Desktop/Tablet (hidden on mobile) -->
<aside class="d-none d-lg-flex flex-column position-fixed admin-sidebar" 
       id="sidebar" 
       data-admin--admin-sidebar-target="sidebar"
       data-controller="admin--admin-sidebar">
  
  <!-- Header avec logo/titre -->
  <div class="admin-sidebar-header">
    <div class="admin-sidebar-brand">
      <span class="admin-sidebar-logo-text" id="sidebar-logo-text">Grenoble Roller</span>
    </div>
    <button class="admin-sidebar-toggle"
            data-action="click->admin--admin-sidebar#toggle"
            aria-label="Réduire la sidebar"
            type="button">
      <i class="bi bi-chevron-left" aria-hidden="true"></i>
    </button>
  </div>

  <!-- Navigation menu -->
  <nav class="admin-sidebar-nav" role="navigation" aria-label="Menu principal">
    <ul class="admin-sidebar-menu">
      <%= render 'admin/shared/menu_items', mobile: false %>
    </ul>
  </nav>
</aside>

<!-- OFFCANVAS: Mobile only - Design moderne 2025 -->
<div class="offcanvas offcanvas-start admin-offcanvas" 
     tabindex="-1" 
     id="offcanvasSidebar" 
     role="navigation"
     aria-labelledby="offcanvasSidebarLabel"
     data-bs-backdrop="true"
     data-bs-scroll="false">
  <div class="admin-offcanvas-header">
    <h5 class="admin-offcanvas-title" id="offcanvasSidebarLabel">Menu</h5>
    <button type="button" 
            class="admin-offcanvas-close" 
            data-bs-dismiss="offcanvas" 
            aria-label="Fermer le menu">
      <i class="bi bi-x-lg" aria-hidden="true"></i>
    </button>
  </div>
  <div class="admin-offcanvas-body">
    <nav class="admin-offcanvas-nav" role="navigation" aria-label="Menu principal">
      <ul class="admin-offcanvas-menu">
        <%= render 'admin/shared/menu_items', mobile: true %>
      </ul>
    </nav>
  </div>
</div>

<!-- Hamburger button (fixed mobile, top right) -->
<div class="d-lg-none admin-mobile-menu-toggle">
  <button class="admin-mobile-toggle-btn"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasSidebar"
          aria-label="Ouvrir le menu"
          aria-expanded="false"
          aria-controls="offcanvasSidebar">
    <i class="bi bi-list" aria-hidden="true"></i>
    <span class="visually-hidden">Menu</span>
  </button>
</div>
