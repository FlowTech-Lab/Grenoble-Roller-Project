<h1 style="color: #dc3545; margin-top: 0;">âš ï¸ Ã‰vÃ©nement annulÃ©</h1>

<p>Bonjour <%= @user.first_name %>,</p>

<p>Nous vous informons que l'Ã©vÃ©nement <strong><%= @event.title %></strong> auquel vous Ãªtes inscrit(e) a Ã©tÃ© <strong>annulÃ©</strong>.</p>

<% if @attendances.count > 1 %>
  <div style="background: #fff3cd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #ffc107;">
    <h3 style="margin-top: 0; color: #333; font-size: 18px;">ğŸ‘¥ Participants concernÃ©s</h3>
    <ul style="margin: 10px 0; padding-left: 20px;">
      <% @attendances.each do |attendance| %>
        <li style="margin: 8px 0;">
          <strong><%= attendance.participant_name %></strong>
          <% if attendance.is_volunteer? %>
            <span style="color: #6c757d; font-size: 14px;">(BÃ©nÃ©vole)</span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>
<% end %>

<div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #dc3545;">
  <h3 style="margin-top: 0; color: #333; font-size: 18px;">ğŸ“… DÃ©tails de l'Ã©vÃ©nement annulÃ©</h3>
  <table style="width: 100%; border-collapse: collapse;">
    <tr>
      <td style="padding: 8px 0; color: #666; width: 120px;">ğŸ“ Lieu :</td>
      <td style="padding: 8px 0;"><strong><%= @event.location_text %></strong></td>
    </tr>
    <tr>
      <td style="padding: 8px 0; color: #666;">ğŸ• Date prÃ©vue :</td>
      <td style="padding: 8px 0;"><strong><%= l @event.start_at, format: :event_long, locale: :fr %></strong></td>
    </tr>
    <tr>
      <td style="padding: 8px 0; color: #666;">â±ï¸ DurÃ©e :</td>
      <td style="padding: 8px 0;"><strong><%= @event.duration_min %> minutes</strong></td>
    </tr>
    <% if @event.price_cents > 0 %>
      <tr>
        <td style="padding: 8px 0; color: #666;">ğŸ’° Prix :</td>
        <td style="padding: 8px 0;"><strong><%= number_to_currency(@event.price_cents / 100.0, unit: 'â‚¬', separator: ',', delimiter: ' ') %></strong></td>
      </tr>
    <% end %>
  </table>
</div>

<div style="background: #fff3cd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #ffc107;">
  <h3 style="margin-top: 0; color: #856404; font-size: 18px;">â„¹ï¸ Informations importantes</h3>
  <p style="color: #856404; margin: 10px 0;">
    <% if @event.price_cents > 0 %>
      <strong>ğŸ’³ Remboursement :</strong> Si vous aviez payÃ© pour cet Ã©vÃ©nement, vous serez automatiquement remboursÃ©(e) dans les prochains jours.
      <br><br>
    <% end %>
    Nous nous excusons pour la gÃªne occasionnÃ©e. Nous espÃ©rons vous revoir bientÃ´t sur une autre sortie !
  </p>
</div>

<div style="margin: 30px 0; text-align: center;">
  <%= link_to 'Voir les autres Ã©vÃ©nements', @is_initiation ? initiations_url : events_url, 
      style: 'display: inline-block; background: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: bold;' %>
</div>

<p style="color: #6c757d; font-size: 14px; margin-top: 30px;">
  Cordialement,<br>
  L'Ã©quipe Grenoble Roller
</p>

<p style="color: #6c757d; font-size: 12px; margin-top: 20px; padding-top: 20px; border-top: 1px solid #e0e0e0;">
  <strong>ğŸ’¡ Note :</strong> Si vous avez des questions concernant cette annulation, n'hÃ©sitez pas Ã  nous contacter Ã  <%= ENV.fetch('CONTACT_EMAIL', 'contact@grenoble-roller.org') %>.
</p>

